# Алгоритм сравнения формул
---
Данный алгоритм имеет несколько этапов:
## 1. Препроцессинг строк
**Асимптотика** - `O(n)`, где *n* - длинна строки (т.к. две строки чистая асимптотика `O(n+m)`, где m - длинна второй строки)
**Этапы**: 
1. Принимаются последовательно первая и вторая строка.
2. Все переменные в строке заменются на #, все константы на @ (греческие буквы в нотации LaTex учитываются как переменные)  

## 2. Нахождение общих подстрок
**Асимптотика** - `O(n*m) + O(n*log(n)) + O(l) + O(l*log(l)) + O((l^2)*(m+2)) + O(l^2)`, где *n*, *m* - длинна первой и второй строки; *l* - количество элементов в массиве схожих строк; *s* - средняя длина подстрок в списке; *v*, *c* - количество переменных и констант соответственно
**Этапы**:
1. Нахождение всех схожих подстрок в строка.
2. Сортируем список уникальных подстрок.
3. Проходим по всему списку подстрок, оставляю только самые длинные подстроки
4. Сортируем список уникальных подстрок по длинне.
5. Находим неуникальные подстроки в списке
6. Удаляем все неуникальные подстроки

## 3. Подстановка переменных и констант в подстроки
**Асимптотика** - `O(l*(v+c))`, где *l* - количество элементов в массиве схожих строк, *v*, *c* - количество переменных и констант соответственно (т.к. две строки чистая асимптотика `O(2*(l*(v+c)))`, где m - длинна второй строки)
**Этапы**:
1. Берём поэлементно общие подстроки 
2. Подставляем переменные в подстроку
3. Подставляем константы в подстроку

## 4. Подсчёт коэффициентов
**Асимптотика** - `O(l)`, где *l* - количество элементов в массиве схожих строк
**Этапы**:
1. Складываем длинны всех подстрок
2. Заполняем списки индексами на которых хранятся подстроки в строке
3. Длинны всех подстрок для первой строки, делим на длинну первой строки, длинны всех подстрок для второй строки, делим на длинну второй строки. Считаем их среднее арифметическое.